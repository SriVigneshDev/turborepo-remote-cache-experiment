echo ""
echo "ğŸš€ Pre-commit checks starting..."
echo "================================"
echo ""

# Step 1: Check for disable comments
echo "ğŸ“‹ Step 1/2: Checking for disable comments..."
pnpm check:no-disable
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Commit blocked! Fix the disable comments first."
  exit 1
fi

# Step 2: Run Biome on staged files
echo ""
echo "ğŸ“‹ Step 2/2: Running Biome linter & formatter..."
pnpm lint-staged
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Commit blocked! Fix the linting errors first."
  exit 1
fi

echo ""
echo "================================"
echo "âœ… All checks passed! Committing..."
echo ""